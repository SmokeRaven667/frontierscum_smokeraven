<form class="{{cssClass}} flexcol" autocomplete="off">
  {{!-- Sheet Header --}}
  <header class="sheet-header">
    <div class="header-col1">
      <img
        class="profile-img"
        src="{{actor.img}}"
        data-edit="img"
        title="{{actor.name}}"
      />
    </div>
    <div class="header-gutter-col"></div>
    <div class="header-col2">
      <div class="name-row">
        <input
          class="actor-name"
          name="name"
          type="text"
          value="{{actor.name}}"
          placeholder="{{ localize 'FS.Name' }}"
          spellcheck="false"
        />
      </div>
      {{!-- we are cheating a bit here, using the 'item' class usually used on
      LI elements, so we can get the item _id to be found by the common click
      handler --}}
      <div class="classname-row item" data-item-id="{{data.data.class._id}}">
        <span class="stat-label">{{ localize "FS.Class" }}:</span>
        <label class="classname item-edit rollable"
          >{{data.data.class.name}}</label
        >
        <div class="item-controls">
          <a class="item-control item-edit" title="Edit Item"
            ><i class="fas fa-edit"></i
          ></a>
          <a class="item-control item-scvmify" title="Scvmify"
            ><i class="fas fa-skull"></i
          ></a>
        </div>
      </div>
      <div class="hitpoints-row">
        <div class="hp-entries">
          <span class="stat-label">{{ localize "FS.HP" }}:</span>
          <input
            class="stat-input"
            name="data.hp.value"
            type="number"
            value="{{data.data.hp.value}}"
            data-dtype="Number"
          />
          /
          <input
            class="stat-input"
            name="data.hp.max"
            type="number"
            value="{{data.data.hp.max}}"
            data-dtype="Number"
          />
        </div>
        <div class="rest-buttons">
          <button
            type="button"
            class="button item-button death-check-button rollable"
            title="{{localize 'FS.DeathCheck'}}"
          >
            {{localize 'FS.DeathCheck'}}
          </button>
          
     
        </div>
      </div>
      <div class="omens-row">
        <!-- <span
          class="stat-label omens-label"
          title="{{ localize 'FS.OmensHelpText' }}"
          >{{ localize "FS.Omens" }}:</span
        >
        <input
          class="stat-input"
          name="data.omens.value"
          type="number"
          value="{{data.data.omens.value}}"
          data-dtype="Number"
        />
        <span class="rule-text omen-rule rollable"
          >{{data.data.class.data.omenDie}} {{ localize "FS.PerRest"}}</span
        > -->
        <!-- <button
          type="button"
          class="button item-button get-better-button rollable"
          title="{{localize 'FS.GetBetter'}}"
        >
          {{localize 'FS.GetBetter'}}
        </button> -->
        <button
        type="button"
        class="button item-button rest-button rollable"
        title="{{localize 'FS.Rest'}}"
      >
        {{localize 'FS.Rest'}}
      </button>
      <button
      type="button"
      class="button item-button get-better-button rollable"
      title="{{localize 'FS.GetBetter'}}"
    >
      {{localize 'FS.GetBetter'}}
    </button>
      </div>
      <div class="acesrow">
        <label class="stat-label aces-label"
          >{{ localize "FS.Aces" }}:</label
        >
        <ul class="aces">
          <li>
            <label
              ><input type="radio" name="data.aces.value" value="0"
              data-dtype="Number" {{#ifEq data.data.aces.value
              0}}checked{{/ifEq}}/><span>0</span></label
            >
          </li>
          <li>
            <label
              ><input type="radio" name="data.aces.value" value="1"
              data-dtype="Number" {{#ifEq data.data.aces.value
              1}}checked{{/ifEq}}/><span>1</span></label
            >
          </li>
          <li>
            <label
              ><input type="radio" name="data.aces.value" value="2"
              data-dtype="Number" {{#ifEq data.data.aces.value
              2}}checked{{/ifEq}}/><span>2</span></label
            >
          </li>
          <li>
            <label
              ><input type="radio" name="data.aces.value" value="3"
              data-dtype="Number" {{#ifEq data.data.aces.value
              3}}checked{{/ifEq}}/><span>3</span></label
            >
          </li>
          <li>
            <label
              ><input type="radio" name="data.aces.value" value="4"
              data-dtype="Number" {{#ifEq data.data.aces.value
              4}}checked{{/ifEq}}/><span>4</span></label
            >
          </li>
          <li>
            <label
              ><input type="radio" name="data.aces.value" value="5"
              data-dtype="Number" {{#ifEq data.data.aces.value
              5}}checked{{/ifEq}}/><span>5</span></label
            >
          </li>
          <li>
            <label
              ><input type="radio" name="data.aces.value" value="6"
              data-dtype="Number" {{#ifEq data.data.aces.value
              6}}checked{{/ifEq}}/><span>6</span></label
            >
          </li>
          <li>
            <label
              ><input type="radio" name="data.aces.value" value="7"
              data-dtype="Number" {{#ifEq data.data.aces.value
              7}}checked{{/ifEq}}/><span>X</span></label
            >
          </li>
        </ul>
      </div>
    </div>
    <div class="header-gutter-col"></div>
    <div class="header-col3">
      <div class="ability-row">
        <input
          class="ability-input"
          type="text"
          name="data.abilities.grit.value"
          value="{{numberFormat data.data.abilities.grit.value decimals=0 sign=true}}"
          data-dtype="Number"
          size="3"
        />
        <span class="ability-label rollable grit"
          >{{ localize 'FS.AbilityGritAbbrev' }}</span
        >
      </div>
      <div class="ability-row">
        <input
          class="ability-input"
          type="text"
          name="data.abilities.slick.value"
          value="{{numberFormat data.data.abilities.slick.value decimals=0 sign=true}}"
          data-dtype="Number"
          size="3"
        />
        <span class="ability-label rollable slick"
          >{{ localize 'FS.AbilitySlickAbbrev' }}</span
        >
      </div>
      <div class="ability-row">
        <input
          class="ability-input"
          type="text"
          name="data.abilities.wits.value"
          value="{{numberFormat data.data.abilities.wits.value decimals=0 sign=true}}"
          data-dtype="Number"
          size="3"
        />
        <span class="ability-label rollable wits"
          >{{ localize 'FS.AbilityWitsAbbrev' }}</span
        >
      </div>
      <div class="ability-row">
        <input
          class="ability-input"
          type="text"
          name="data.abilities.luck.value"
          value="{{numberFormat data.data.abilities.luck.value decimals=0 sign=true}}"
          data-dtype="Number"
          size="3"
        />
        <span class="ability-label rollable suck"
          >{{ localize 'FS.AbilityLuckAbbrev' }}</span
        >
      </div>
    </div>
  </header>

  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="obituary">{{ localize 'FS.TabObituary' }}</a>
    <a class="item" data-tab="violence">{{ localize 'FS.TabViolence' }}</a>
    <!-- <a class="item" data-tab="feats">{{ localize 'FS.TabFeats' }}</a> -->
    <a class="item" data-tab="actions">{{ localize 'FS.TabActions' }}</a>
    <a class="item" data-tab="skills">{{ localize 'FS.TabSkills' }}</a>
    <!-- <a class="item" data-tab="powers">{{ localize 'FS.Powers' }}</a> -->
    <a class="item" data-tab="equipment">{{ localize 'FS.TabTreasures' }}</a>
  </nav>

  {{!-- Sheet Body --}}
  <section class="sheet-body">
    {{!-- Obituary Tab --}}
    <div class="tab class-tab" data-group="primary" data-tab="obituary">
      {{editor content=data.data.description target="data.description"
      button=true owner=owner editable=true}}
    </div>

    {{!-- Violence Tab --}}
    <div class="tab violence-tab" data-group="primary" data-tab="violence">
      {{!-- Initiative buttons --}}
      <div class="initiative">
        <span class="roll-initiative"
          >{{localize "FS.Roll"}} {{localize "FS.Initiative"}}:</span
        >
        <button
          type="button"
          class="button item-button rollable initiative-button party-initiative-button"
          title="{{localize 'FS.Party'}}"
        >
          {{localize "FS.Party"}}
        </button>
        <button
          type="button"
          class="button item-button rollable initiative-button individual-initiative-button"
          title="{{localize 'FS.Individual'}}"
        >
          {{localize "FS.Individual"}}
        </button>
      </div>

      {{!-- Weapons --}}
      <ol class="items-list inventory-list">
        <li class="items-header flexrow">
          <h3 class="item-name flexrow">
            {{localize "FS.ItemTypeWeaponPlural"}}
          </h3>
        </li>
        <ol class="item-list weapon-list">
          {{#each data.data.equippedWeapons as |item id|}}
          <li class="item flexrow" data-item-id="{{item._id}}">
            <img
              src="{{item.img}}"
              title="{{item.name}}"
              width="24"
              height="24"
            />
            <div class="weapon-name-col">
              <h4 class="item-name item-edit rollable">{{item.name}}</h4>
              {{#if ../data.data.trackAmmo}} {{#if item.data.usesAmmo}}
              <div class="ammo-select-col">
                <select
                  class="ammo-select"
                  name="selectedAmmo-{{item._id}}"
                  data-dtype="Number"
                  data-item-id="{{item._id}}"
                >
                  {{#select item.data.ammoId}}
                  <option value="">{{localize 'FS.ItemTypeAmmo'}}</option>
                  {{#each ../data.data.ammo as |ammo ammoId|}}
                  <option value="{{ammo._id}}">
                    {{ammo.name}} ({{ammo.data.quantity}})
                  </option>
                  {{/each}} {{/select}}
                </select>
              </div>
              {{/if}} {{/if}}
            </div>
            <div class="item-fields">
              <span class="item-field damage-die">{{item.data.damageDie}}</span>
              <span class="item-field weapon-type"
                >{{item.data.weaponType}}</span
              >
            </div>
            <div class="item-buttons">
              <button
                type="button"
                class="item-button rollable attack-button"
                data-roll="d20+@abilities.grit.value"
                data-label="attack_{{item._id}}"
                title="{{localize 'FS.Attack'}}"
              >
                {{localize 'FS.Attack'}}
              </button>
            </div>
            <div class="item-controls">
              <a
                class="item-control item-toggle item-toggle-equipped {{ifPrint item.data.equipped 'equipped'}}"
                title="{{ifPrintElse item.data.equipped (localize 'FS.ItemEquipped') (localize 'FS.ItemUnequipped')}}"
                ><i class="fas fa-shield-alt"></i
              ></a>
              <a class="item-control item-edit" title="Edit Item"
                ><i class="fas fa-edit"></i
              ></a>
              <a class="item-control item-delete" title="Delete Item"
                ><i class="fas fa-trash"></i
              ></a>
            </div>
          </li>
          {{/each}}
        </ol>
        {{#if data.data.equippedWeapons.length}}
        <div class="rule-text attack-rule">
          {{localize 'FS.AttackCritText'}} {{localize 'FS.AttackFumbleText'}}
        </div>
        {{else}}
        <div class="rule-text you-have-no">
          {{localize 'FS.EquipAWeaponToAttack'}}
        </div>
        {{/if}}
        <div class="violence-gutter"></div>

        {{!-- Armor --}}
        <li class="items-header flexrow">
          <h3 class="item-name flexrow">
            {{localize "FS.ItemTypeArmorPlural"}}
          </h3>
          <div class="item-controls flexrow"></div>
        </li>
        <ol class="item-list armor-list">
          {{#if data.data.equippedArmor}}
          <li
            class="item flexrow"
            data-item-id="{{data.data.equippedArmor._id}}"
          >
            <img
              src="{{data.data.equippedArmor.img}}"
              title="{{data.equippedArmor.name}}"
              width="24"
              height="24"
            />
            <h4 class="item-name item-edit rollable">
              {{data.data.equippedArmor.name}}
            </h4>
            <div class="item-buttons">
              <div class="armor-tiers">
                <div class="tiers">
                  <label class="stat-label tier-label"
                    >{{ localize "FS.Tier" }}:</label
                  >
                  <ul class="tiers">
                    <li>
                      <label
                        ><input class="tier-radio" type="radio"
                        name="tier.value" value="0" {{#ifEq
                        data.data.equippedArmor.data.tier.value
                        0}}checked{{/ifEq}}/><span class="tier-num">0</span
                        ><span class="tier-dmg">-0</span></label
                      >
                    </li>
                    <li>
                      <label
                        ><input class="tier-radio" type="radio"
                        name="tier.value" value="1" {{#ifEq
                        data.data.equippedArmor.data.tier.value
                        1}}checked{{/ifEq}}/><span class="tier-num">1</span
                        ><span class="tier-dmg">-d2</span></label
                      >
                    </li>
                    <li>
                      <label
                        ><input class="tier-radio" type="radio"
                        name="tier.value" value="2" {{#ifEq
                        data.data.equippedArmor.data.tier.value
                        2}}checked{{/ifEq}} {{#ifLt
                        data.data.equippedArmor.data.tier.max
                        2}}disabled="true"{{/ifLt}}/><span class="tier-num"
                          >2</span
                        ><span class="tier-dmg">-d4</span></label
                      >
                    </li>
                    <li>
                      <label
                        ><input class="tier-radio" type="radio"
                        name="tier.value" value="3" {{#ifEq
                        data.data.equippedArmor.data.tier.value
                        3}}checked{{/ifEq}} {{#ifLt
                        data.data.equippedArmor.data.tier.max
                        3}}disabled="true"{{/ifLt}}/><span class="tier-num"
                          >3</span
                        ><span class="tier-dmg">-d6</span></label
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="item-controls">
              <a
                class="item-control item-toggle item-toggle-equipped {{ifPrint data.data.equippedArmor.data.equipped 'equipped'}}"
                title="{{ifPrintElse data.data.equippedArmor.data.equipped (localize 'FS.ItemEquipped') (localize 'FS.ItemUnequipped')}}"
                ><i class="fas fa-shield-alt"></i
              ></a>
              <a class="item-control item-edit" title="Edit Item"
                ><i class="fas fa-edit"></i
              ></a>
              <a class="item-control item-delete" title="Delete Item"
                ><i class="fas fa-trash"></i
              ></a>
            </div>
          </li>
          {{/if}} {{#if data.data.equippedShield}}
          <li
            class="item flexrow"
            data-item-id="{{data.data.equippedShield._id}}"
          >
            <img
              src="{{data.data.equippedShield.img}}"
              title="{{data.data.equippedShield.name}}"
              width="24"
              height="24"
            />
            <h4 class="item-name item-edit rollable">
              {{data.data.equippedShield.name}}
            </h4>
            <div class="item-buttons">
              <span class="rule-text shield-rule"
                >{{localize 'FS.ShieldUseText'}}</span
              >
            </div>
            <div class="item-controls">
              <a
                class="item-control item-toggle item-toggle-equipped {{ifPrint data.data.equippedShield.data.equipped 'equipped'}}"
                title="{{ifPrintElse data.data.equippedShield.data.equipped (localize 'FS.ItemEquipped') (localize 'FS.ItemUnequipped')}}"
                ><i class="fas fa-shield-alt"></i
              ></a>
              <a class="item-control item-edit" title="Edit Item"
                ><i class="fas fa-edit"></i
              ></a>
              <a class="item-control item-delete" title="Delete Item"
                ><i class="fas fa-trash"></i
              ></a>
            </div>
          </li>
          {{/if}} {{#unless data.data.equippedArmor}} {{#unless
          data.data.equippedShield}}
          <div class="rule-text you-have-no">
            {{localize 'FS.EquipArmorToAbsorb'}}
          </div>
          {{/unless}} {{/unless}}
        </ol>
      </ol>
      <div class="underarmor-row">
        <div class="incoming-attack">
          <div>
            <button
              type="button"
              class="item-button rollable defend-button"
              title="{{localize 'FS.Defend'}}"
            >
              {{localize "FS.Defend"}}
            </button>
          </div>
          <div class="rule-text defend-rule">
            {{localize 'FS.DefendCritText'}} {{localize 'FS.DefendFumbleText'}}
          </div>
        </div>
      </div>
    </div>

    {{!-- Actions Tab --}}
    <div class="tab specials-tab" data-group="primary" data-tab="actions">
      <ol class="items-list inventory-list">
        <ol class="item-list">
          {{#each data.data.actions as |item id|}}
          <li class="item flexrow" data-item-id="{{item._id}}">
            <img
              src="{{item.img}}"
              title="{{item.name}}"
              width="24"
              height="24"
            />
            <h4 class="item-name item-edit rollable">{{item.name}}</h4>
            <div class="item-buttons">
              {{#if item.data.rollLabel}}
              <button
                type="button"
                class="item-button rollable action-button"
                data-roll="{{item.data.rollFormula}}"
                data-label="{{item.data.rollLabel}}"
                title="{{item.data.rollLabel}}"
              >
                {{item.data.rollLabel}}
              </button>
              {{/if}}
            </div>
            <div class="item-controls">
              <a class="item-control item-edit" title="Edit Item"
                ><i class="fas fa-edit"></i
              ></a>
              <a class="item-control item-delete" title="Delete Item"
                ><i class="fas fa-trash"></i
              ></a>
            </div>
          </li>
          {{/each}}
        </ol>
        {{#unless data.data.actions.length}}
        <div class="rule-text you-have-no">
          {{localize 'FS.YouHaveNoActions'}}
        </div>
        {{/unless}}
      </ol>
    </div>

    {{!-- Skills Tab --}}
    <div class="tab class-tab" data-group="primary" data-tab="skills">
      {{editor content=data.data.skills target="data.skills"
      button=true owner=owner editable=true}}
    </div>
    <!-- <div class="tab specials-tab" data-group="primary" data-tab="skills">
      <ol class="items-list inventory-list">
        <ol class="item-list">
          {{#each data.data.skills as |item id|}}
          <li class="item flexrow" data-item-id="{{item._id}}">
            <img
              src="{{item.img}}"
              title="{{item.name}}"
              width="24"
              height="24"
            />
            <h4 class="item-name item-edit rollable">{{item.name}}</h4>
            <div class="item-buttons">
              {{#if item.data.rollLabel}}
              <button
                type="button"
                class="item-button rollable skill-button"
                data-roll="{{item.data.rollFormula}}"
                data-label="{{item.data.rollLabel}}"
                title="{{item.data.rollLabel}}"
              >
                {{item.data.rollLabel}}
              </button>
              {{/if}}
            </div>
            <div class="item-controls">
              <a class="item-control item-edit" title="Edit Item"
                ><i class="fas fa-edit"></i
              ></a>
              <a class="item-control item-delete" title="Delete Item"
                ><i class="fas fa-trash"></i
              ></a>
            </div>
          </li>
          {{/each}}
        </ol>
        {{#unless data.data.skills.length}}
        <div class="rule-text you-have-no">
          {{localize 'FS.YouHaveNoSkills'}}
        </div>
        {{/unless}}
      </ol>
    </div> -->
    
    {{!-- Powers Tab --}}
    <!-- <div class="tab powers-tab" data-group="primary" data-tab="powers">
      <div class="powers-top-row">
        <div class="powers-gutter"></div>
        <div class="wield-power">
          <button type="button" class="rollable wield-power-button">
            {{localize "FS.WieldAPower"}}
          </button>
          <span class="rule-text wield-rule"
            >{{localize 'FS.WieldAPowerText'}}</span
          >
        </div>
        <div class="powers-gutter"></div>
        <div class="uses-remaining">
          <div>
            <label class="stat-label uses-remaining-label"
              >{{localize "FS.PowerUsesRemaining"}}:</label
            >
            <input
              class="stat-input"
              name="data.powerUses.value"
              type="number"
              value="{{data.data.powerUses.value}}"
              data-dtype="Number"
            />
          </div>
          <span class="rule-text rollable powers-per-day-text"
            >{{localize "FS.PowersPerDayText"}}</span
          >
        </div>
      </div>
      <ol class="items-list inventory-list">
        <li class="items-header flexrow">
          <h3 class="item-name flexrow">
            {{localize "FS.ItemTypeScrollPlural"}}
          </h3>
          <div class="item-controls flexrow"></div>
        </li>
        <ol class="item-list">
          {{#each data.data.scrolls as |item id|}}
          <li class="item flexrow" data-item-id="{{item._id}}">
            <img
              src="{{item.img}}"
              title="{{item.name}}"
              width="24"
              height="24"
            />
            <h4 class="item-name item-edit rollable">{{item.name}}</h4>
            <div class="item-buttons"></div>
            <div class="item-controls">
              <a class="item-control item-edit" title="Edit Item"
                ><i class="fas fa-edit"></i
              ></a>
              <a class="item-control item-delete" title="Delete Item"
                ><i class="fas fa-trash"></i
              ></a>
            </div>
          </li>
          {{/each}}
        </ol>
        {{#unless data.data.scrolls.length}}
        <div class="rule-text you-have-no">
          {{localize 'FS.YouHaveNoScrolls'}}
        </div>
        {{/unless}}
      </ol>
    </div> -->

    {{!-- Equipment Tab --}}
    <div class="tab equipment-tab" data-group="primary" data-tab="equipment">
      <div class="equipment-top-row">
        <div class="silver">
          <span class="stat-label silver-label"
            >{{ localize "FS.Silver" }}:</span
          >
          <input
            class="stat-input silver-input"
            name="data.silver"
            type="number"
            value="{{data.data.silver}}"
            data-dtype="Number"
          />
        </div>
        <div class="carry-block">
          <div>
            <span class="stat-label carrying-label"
              >{{ localize "FS.Carrying" }}:</span
            >
            <span class="stat-value">{{data.data.carryingWeight}}</span>
            /
            <span class="stat-value">{{data.data.carryingCapacity}}</span>
          </div>
          <div>
            <span
              class="rule-text {{ifPrint data.data.encumbered 'encumbered'}}"
            >
              {{#if data.data.trackCarryingCapacity}} {{localize
              'FS.CarryingRule'}} {{else}} {{localize
              'FS.CarryingRuleNoPenalty'}} {{/if}}
            </span>
          </div>
        </div>
      </div>
      <ol class="items-list equipment-list">
        {{>
        "systems/frontierscum/templates/actor/common/actor-equipment-list.html"}}
      </ol>
    </div>
  </section>
</form>
